### 1.为什么索引能提⾼查询速度?

> **索引是一种用于快速查询和检索数据的数据结构，其本质可以看成是一种排序好的数据结构。**
>
> 索引的作用就相当于书的目录。打个比方: 我们在查字典的时候，如果没有目录，那我们就只能一页一页的去找我们需要查的那个字，速度很慢。如果有目录了，我们只需要先去目录里查找字的位置，然后直接翻到那一页就行了。
>
> 索引底层数据结构存在很多种类型，常见的索引结构有: B 树， B+树 和 Hash、红黑树。在 MySQL 中，无论是 Innodb 还是 MyIsam，都使用了 B+树作为索引结构。

### 2.聚集索引和⾮聚集索引的区别？⾮聚集索引⼀定回表查询吗?

> **聚簇索引（Clustered Index）即索引结构和数据一起存放的索引，并不是一种单独的索引类型。InnoDB 中的主键索引就属于聚簇索引。**
>
> 非聚簇索引(Non-Clustered Index)即索引结构和数据分开存放的索引，并不是一种单独的索引类型。二级索引(辅助索引)就属于非聚簇索引。MySQL 的 MyISAM 引擎，不管主键还是非主键，使用的都是非聚簇索引。
>
> **非聚簇索引不一定回表查询。**试想一种情况，用户准备使用 SQL 查询用户名，而用户名字段正好建立了索引。

### 3.索引这么多优点，为什么不对表中的每⼀个列创建⼀个索引呢？(使⽤索引⼀定能提⾼查询性能吗?)

> 索引并不是越多越好，建议单张表索引不超过 5 个！索引可以提高效率同样可以降低效率。
>
> 索引可以增加查询效率，但同样也会降低插入和更新的效率，甚至有些情况下会降低查询效率。
>
> 因为 MySQL 优化器在选择如何优化查询时，会根据统一信息，对每一个可以用到的索引来进行评估，以生成出一个最好的执行计划，如果同时有很多个索引都可以用于查询，就会增加 MySQL 优化器生成执行计划的时间，同样会降低查询性能。

### 4.索引底层的数据结构了解么？Hash 索引和 B+树索引优劣分析

> 一般是Hash和B+树。
>
> Hash索引优点就是快，缺点是无法进行范围查询
>
> B+树优点就是支持范围查询，I/O次数少，缺点就是查询较慢，维护索引复杂

### 5.B+树做索引⽐红⿊树好在哪⾥？

> 1. B+树支持范围查询：B+树索引适用于范围查询和范围扫描，这是由于 B+树内部节点只存放键值信息，叶子节点间有指针连接，便于范围查询操作。 
> 2. B+树更适合磁盘存储：B+树索引设计适合磁盘存储，因为 B+树的节点关键字越多，深度越小，磁盘 I/O 次数越少，减少访问磁盘的频率，提高查询性能。
> 3.  B+树有利于顺序访问：B+树的叶子节点使用链表相连接，有利于顺序访问，适用于范围查询和排序操作，能够优化 I/O 性能。
> 4.  B+树内部节点比较少：B+树内部节点不存储数据信息，只存储键值信息，相比红黑树，B+树内部节点数目相对较少，使得树的高度更低，查询性能更好。
>
> **红黑树并不追求严格的平衡，而是大致的平衡。正因如此，红黑树的查询效率稍有下降，因为红黑树的平衡性相对较弱，可能会导致树的高度较高，这可能会导致一些数据需要进行多次磁盘 IO 操作才能查询到，这也是 MySQL 没有选择红黑树的主要原因**

### 6.最左前缀匹配原则了解么？

> 最左前缀匹配原则指的是，在使用联合索引时，**MySQL** 会根据联合索引中的字段顺序，从左到右依次到查询条件中去匹配，如果查询条件中存在与联合索引中最左侧字段相匹配的字段，则就会使用该字段过滤一批数据，直至联合索引中全部字段匹配完成，或者在执行过程中遇到范围查询（如 **`>`**、**`<`** ）才会停止匹配。对于 **`>=`**、**`<=`**、**`BETWEEN`**、**`like`** 前缀匹配的范围查询，并不会停止匹配。所以，我们在使用联合索引时，可以将区分度高的字段放在最左边，这也可以过滤更多数据.

### 7.什么是覆盖索引

> **覆盖索引即需要查询的字段正好是索引的字段，那么直接根据该索引，就可以查到数据了，而无需回表查询。**

### 8.如何查看某条 SQL 语句是否⽤到了索引？

> 我们可以使用 `EXPLAIN` 命令来分析 SQL 的 **执行计划** ，这样就知道语句是否命中索引了。执行计划是指一条 SQL 语句在经过 MySQL 查询优化器的优化会后，具体的执行方式。
>
> 主要关注possible_keys和key来判断用到的索引。
>
> 