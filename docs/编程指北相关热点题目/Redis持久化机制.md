### 1.宕机了，Redis 如何避免数据丢失？
> RDB和AOF
### 2.如何选择 RDB 和 AOF？
> 如果可以容忍一定的数据丢失，可以选择AOF，因为RDB是在一定时间内，比如五分钟一次对数据进行一次快照。但是优点是RDB生成的快照文件比较小，切恢复大数据时比较快。
> 
> AOF恢复速度慢，但可以记录对应的操作日志。易于分析，同时也不像RDB会有版本不兼容的问题。
> 
> 总的来说，建议同时开启，Redis4.0后支持两者同时开启。