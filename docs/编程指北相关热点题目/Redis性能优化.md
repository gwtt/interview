### 1.Redis 批量操作的⽅式有哪些？
> 1. 原生指令:比如MGET，MSET
> 2. pipeline，将多条命令封装成一组，但是非原子性操作
> 3. Lua脚本，相比pipeline，不会被其余指令所打扰，并且支持一些简单逻辑处理。
### 2.Redis ⼤ key 有什么危害？如何排查和处理？
> 会消耗更多的内存空间和宽带，对Redis性能造成很大的影响。处理耗时，并且删除也耗时。
> 
> 用Redis 自带的 --bigkeys 参数来查找。
> 
> 使用 Redis 自带的 SCAN 命令
> 
> 或者借助RDB分析工具或者Redis分析服务
### 3.如何发现 Redis 热 Key，有哪些解决⽅案？
> 使用 Redis 自带的 --hotkeys 参数来查找。可以返回所有key的访问次数，但是会增加内存消耗
> 
> 使用MONITOR 命令。临时监控Redis的读写操作
> 
> 业务评估，分析工具
### 4.为什么会有 Redis 内存碎⽚?如何清理 Redis 内存碎⽚？
> 1. Redis 存储存储数据的时候向操作系统申请的内存空间可能会大于数据实际需要的存储空间。
> 
> Redis默认内存分配器 jemalloc，按照固定大小分配，最接近某个值，分配相应大小，比如需要17字节会直接分配32字节。
> 2. 频繁修改 Redis 中的数据也会产生内存碎片。
> 
> 删除键的时候，内存不会立刻返回给操作系统。
> 
> Redis4.0-RC3 版本以后自带了内存整理，可以避免内存碎片率过大的问题。
> 
> 直接通过 config set 命令将 activedefrag 配置项设置为 yes 即可。
### 5.为什么会有慢查询命令？
> 比如存的东西越来越多，但是却用了比如Keys *的指令，或者范围查找，这种O(n)级别的指令，就会导致慢查询